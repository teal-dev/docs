---
title: Reviewing transactions
description: "Build a transaction review workflow"
icon: "folder-grid"
---

<aside>
	üîß Works with
	PlatformGL, Quickbooks
</aside>

When the categorization pipeline in an **accounting package** fails to recognize what a transaction is, a Transaction must be manually reviewed and assigned a corresponding ledger to complete the creation of a **Journal Entry**. 

Use a combination of the **Transactions** and **Ledger** endpoints to enable users to review uncategorized transactions for a specific **financial account ledger**, for example you can list all uncategorized Transactions your Plato Checking 4242 account. 

## Steps

### Set up

This guide assumes you have already set up your platform and have instances with an accounting package.

<Steps>
  <Step title="Get client‚Äôs instance id">
    ```tsx
    let options = {
      method: 'GET',
      headers: { Authorization: process.env.t_k_SecretKey}
    };
    const request = await fetch(`https://api.sandbox.teal.dev/v0/instances/`, options)
    const instance = await request.json();
    options.headers.['teal-instance-id'] = instance.id
    ```
  </Step>
  <Step title="Get unreviewed transactions">
    ### 2. Get unreviewed transactions

    Use the **Get Categorized Transactions** endpoint to get a list of all `unreviewed` transactions for a specific financial ledger account.

    ```tsx
    const request = await fetch(`https://api.sandbox.teal.dev/v0/ledgers/12345/transactions/categories?review_status=unreviewed`, options)
    const data = await request.json();
    ```

    These can then be mapped over to be presented to a user.
  </Step>
  <Step title="List the possible ledgers">
	Some `unreviewed` Transactions will have an assigned corresponding Ledger, but may still require a review, while others may have no corresponding Ledger at all. 

	Use the **Get Ledgers** endpoint to retrieve all Ledgers.

	```tsx
	const request = await fetch(`https://api.sandbox.teal.dev/v0/ledgers`, options)
	const ledgers = request.json();
	```

	With this, users can select from a list of Ledgers for each `unreviewed` transaction.
  </Step>
  <Step title="Save the updated transaction">
	Two api calls need to be made in order to complete the review process. The first call is to the **Recategorize Transaction** endpoint to update the selected transaction category to match the Ledger selected by the user. 

		```tsx
		const financial_ledger_id = '123';
		const selected_ledger_id = '789';
		const options = {
		method: 'PUT',
		headers: {
			'teal-instance-id': '12345',
				Authorization: process.env.t_k_SecretKey,
			'Content-Type': 'application/json'
		},
		body: '{
				"updated_category_ledger_id": selected_ledger_id
			}'
		};

		const request = await fetch(`https://api.sandbox.teal.dev/v0/ledgers/${financial_ledger_id}/transactions/${transaction_id}/categories`, options)
		const response = await request.json();
		```

		The second necessary call is to update the Transaction‚Äôs status from `unreviewed` to `reviewed`, usually done as a confirmation step.

		```tsx
		const options = {
		method: 'PUT',
		headers: {
			'teal-instance-id': '<teal-instance-id>',
			Authorization: '<authorization>',
			'Content-Type': 'application/json'
		},
		body: {
				"review_status": "reviewed"
			}
		};

		const request = await fetch(`https://api.sandbox.teal.dev/v0/ledgers/${ledger_id}/transactions/${transaction_id}`, options);
		const response = await request.json();
		```

  </Step>
</Steps>

## Troubleshooting

### No uncategorized transactions for a ledger

While there are rare edge cases where uncategorized transactions may exist on ledgers that are not of the ‚Äúfinancial account‚Äù type. 

### **Common use cases**

The most common use case is to implement a review transactions flow within the umbrella of a financial account ledger page. It is possible to aggregate all uncategorized transactions across all ledgers, but this can result in slow request times.

## Relevant resources

- **Ledgers knowledge base**
- **Transactions knowledge base**
- **Auto-categorization configuration**
- **Data-sources**